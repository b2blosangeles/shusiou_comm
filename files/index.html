<!DOCTYPE html>
<html>
<head>
    <title>速修语言加密通信</title>
	<meta charset="utf-8" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
	<!--script src="//cdnjs.cloudflare.com/ajax/l/ibs/annyang/2.6.0/annyang.min.js"></script-->	
	<script>
		var _dns = {"comm":["/"]};
		let socket = io.connect(_dns.comm[0]);
		socket.on('connect', function() {
			//console.log('--->connected ===>' + socket.id + '---' + socket);
			//console.log(socket.io.engine);
			console.log(io.sockets.adapter.rooms);
			socket.emit('createRoom', 'CRON_REPORT_A');
			socket.on('serverData', function(incomeData) {
				var clients = socket.clients('CRON_REPORT_A');
				console.log(clients);
				if (incomeData._room === 'CRON_REPORT_A') {
					document.getElementById('income_info').innerHTML += 
						JSON.stringify(incomeData.data) + '<br/>';
				}
			});
		});		
	</script>
</head>
<body>
	速修语言加密通信
	<div id="income_info"></div>
</body>
</html>
